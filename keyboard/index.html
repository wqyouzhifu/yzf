<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>我的键盘</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <header></header>
    <main >
        <div id="m" class="wapper">

        </div>
    </main>
    <footer></footer>
    <script>
        var keys={
            "0":["q","w","e","r","t","y","u","i","o","p"],
            "1":["a","s","d","f","g","h","j","k","l"],
            "2":["z","x","c","v","b","n","m"],
            "length":3
        }
        var hash={
            q:"qq.com",
            w:"qq.com",
            e:"qq.com",
            r:"qq.com",
            t:"qq.com",
            a:"qq.com",
            d:"qq.com",
            z:"qq.com",
            x:"qq.com",
            c:"qq.com",
            v:"qq.com",
            g:"qq.com"
        }
        //取出新的hash值
        hashLocalStorage=JSON.parse(localStorage.getItem("uuu")||"");
        if(hashLocalStorage){
            hash=hashLocalStorage;
        }
        var index=0;
        while(index<keys["length"]){
            //console.log(111);
            var div1=document.createElement("div");
            m.appendChild(div1);
            var sz=keys[index]//qwertyuiop 10
            //console.log(sz);
            var index2=0;
            while(index2<sz.length){
                var kb=document.createElement("kbd");
                kb.textContent=sz[index2];
                div1.appendChild(kb);
                buttonxx=document.createElement("button");
                kb.appendChild(buttonxx);
                buttonxx.textContent="E";
                buttonxx.id=sz[index2];
                buttonxx.onclick=function(xzcx){
                    key=xzcx.target.id
                    x=prompt("给我一个网址")
                    hash[key]=x;//hash变更了
                    localStorage.setItem("uuu",JSON.stringify(hash))
                }
                index2+=1;
            };

            index+=1;
        };
        //键盘监听事件,绑定键盘事件
        document.onkeypress=function(xzcxv){
            console.log(xzcxv);
            k=xzcxv["key"];
            website=hash[k]
            // 当前页面打开，就是获取location对象
            // location.href="http://"+website
            window.open("http://"+website,"_blank");
        };
    </script>
</body>
</html>